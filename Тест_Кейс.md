# Тест-кейсы для модульного тестирования сервисов базы данных

## Модуль: GroupService

### GRP-001: Получение существующей группы по ID
**Приоритет:** Высокий  
**Тип:** Позитивный  
**Предусловие:** База данных содержит группу с ID=1

**Шаги:**
1. Вызвать метод getGroupById(1)
2. Получить ResultSet с данными группы
3. Проверить наличие данных в ResultSet
4. Проверить значения полей группы

**Ожидаемый результат:**
- ResultSet содержит данные группы
- Название группы: "ИСС9-124"
- Код специальности: "11.02.15"
- Название кафедры: "Инфокоммуникационные сети и системы связи"

### GRP-002: Получение несуществующей группы по ID
**Приоритет:** Средний  
**Тип:** Негативный  
**Предусловие:** База данных не содержит группу с ID=999

**Шаги:**
1. Вызвать метод getGroupById(999)
2. Получить ResultSet
3. Проверить отсутствие данных в ResultSet

**Ожидаемый результат:**
- ResultSet не содержит данных (group.next() возвращает false)

### GRP-003: Проверка общего количества групп
**Приоритет:** Высокий  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getGroupCount()
2. Получить количество групп
3. Сравнить с ожидаемым значением

**Ожидаемый результат:**
- Количество групп равно 2

### GRP-004: Проверка существования группы
**Приоритет:** Средний  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод groupExists(1)
2. Получить boolean результат

**Ожидаемый результат:**
- Метод возвращает true (группа существует)

### GRP-005: Проверка отсутствия группы
**Приоритет:** Средний  
**Тип:** Негативный

**Шаги:**
1. Вызвать метод groupExists(999)
2. Получить boolean результат

**Ожидаемый результат:**
- Метод возвращает false (группа не существует)

### GRP-006: Получение всех групп и проверка структуры данных
**Приоритет:** Высокий  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getAllGroups()
2. Пройти по всем записям ResultSet
3. Проверить наличие обязательных полей
4. Подсчитать общее количество групп

**Ожидаемый результат:**
- Все группы имеют заполненные обязательные поля
- Количество групп равно 2
- Поля group_name, speciality_code, department_name не null

### GRP-007: Проверка данных конкретной группы
**Приоритет:** Средний  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getGroupById(2)
2. Проверить наличие данных
3. Проверить значения полей группы

**Ожидаемый результат:**
- Название группы: "ССА9-124А"
- Код специальности: "09.02.06"
- Название кафедры: "Сетевое и системное администрирование"

---

## Модуль: RoleService

### ROL-001: Получение существующей роли по ID
**Приоритет:** Высокий  
**Тип:** Позитивный  
**Предусловие:** База данных содержит роль с ID=1

**Шаги:**
1. Вызвать метод getRoleById(1)
2. Получить ResultSet с данными роли
3. Проверить наличие данных
4. Проверить значение поля role_name

**Ожидаемый результат:**
- ResultSet содержит данные роли
- Название роли: "Admins"

### ROL-002: Получение несуществующей роли по ID
**Приоритет:** Средний  
**Тип:** Негативный  
**Предусловие:** База данных не содержит роль с ID=999

**Шаги:**
1. Вызвать метод getRoleById(999)
2. Получить ResultSet
3. Проверить отсутствие данных

**Ожидаемый результат:**
- ResultSet не содержит данных (role.next() возвращает false)

### ROL-003: Проверка общего количества ролей
**Приоритет:** Высокий  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getRoleCount()
2. Получить количество ролей
3. Сравнить с ожидаемым значением

**Ожидаемый результат:**
- Количество ролей равно 3

### ROL-004: Проверка существования роли
**Приоритет:** Средний  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод roleExists(1)
2. Получить boolean результат

**Ожидаемый результат:**
- Метод возвращает true (роль существует)

### ROL-005: Проверка отсутствия роли
**Приоритет:** Средний  
**Тип:** Негативный

**Шаги:**
1. Вызвать метод roleExists(999)
2. Получить boolean результат

**Ожидаемый результат:**
- Метод возвращает false (роль не существует)

### ROL-006: Получение всех ролей и проверка структуры данных
**Приоритет:** Высокий  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getAllRoles()
2. Пройти по всем записям ResultSet
3. Проверить наличие обязательных полей
4. Подсчитать общее количество ролей

**Ожидаемый результат:**
- Все роли имеют заполненные обязательные поля
- Количество ролей равно 3
- Поле role_name не null

### ROL-007: Проверка данных всех ролей
**Приоритет:** Средний  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getAllRoles()
2. Проверить последовательность и названия ролей

**Ожидаемый результат:**
- Роли в порядке: "Admins", "Students", "Teachers"

### ROL-008: Проверка наличия системного администратора
**Приоритет:** Высокий  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getRoleById(1)
2. Проверить наличие данных
3. Проверить название роли

**Ожидаемый результат:**
- Роль администратора существует с названием "Admins"

---

## Модуль: StudentService

### STU-001: Получение существующего студента по ID
**Приоритет:** Высокий  
**Тип:** Позитивный  
**Предусловие:** База данных содержит студента с ID=1

**Шаги:**
1. Вызвать метод getStudentById(1)
2. Получить ResultSet с данными студента
3. Проверить наличие данных
4. Проверить значения полей студента

**Ожидаемый результат:**
- ResultSet содержит данные студента
- ФИО: "Баранова Анна Игоревна"
- Номер студенческого: "ИСС-1001"
- Хэш пароля не null
- Название группы: "ИСС9-124"
- Роль: "Students"

### STU-002: Получение несуществующего студента по ID
**Приоритет:** Средний  
**Тип:** Негативный  
**Предусловие:** База данных не содержит студента с ID=999

**Шаги:**
1. Вызвать метод getStudentById(999)
2. Получить ResultSet
3. Проверить отсутствие данных

**Ожидаемый результат:**
- ResultSet не содержит данных (student.next() возвращает false)

### STU-003: Получение студента по номеру студенческого билета
**Приоритет:** Высокий  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getStudentByTicketNumber("ИСС-1001")
2. Проверить наличие данных
3. Проверить корректность данных

**Ожидаемый результат:**
- Студент найден
- ФИО: "Баранова Анна Игоревна"
- ID студента: 1

### STU-004: Получение студента по несуществующему номеру билета
**Приоритет:** Средний  
**Тип:** Негативный

**Шаги:**
1. Вызвать метод getStudentByTicketNumber("НЕСУЩЕСТВУЮЩИЙ")
2. Получить ResultSet
3. Проверить отсутствие данных

**Ожидаемый результат:**
- ResultSet не содержит данных

### STU-005: Проверка общего количества студентов
**Приоритет:** Высокий  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getStudentCount()
2. Получить количество студентов
3. Сравнить с ожидаемым значением

**Ожидаемый результат:**
- Количество студентов равно 29

### STU-006: Проверка существования студента
**Приоритет:** Средний  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод studentExists(1)
2. Получить boolean результат

**Ожидаемый результат:**
- Метод возвращает true (студент существует)

### STU-007: Проверка отсутствия студента
**Приоритет:** Средний  
**Тип:** Негативный

**Шаги:**
1. Вызвать метод studentExists(999)
2. Получить boolean результат

**Ожидаемый результат:**
- Метод возвращает false (студент не существует)

### STU-008: Получение всех студентов и проверка структуры данных
**Приоритет:** Высокий  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getAllStudents()
2. Пройти по всем записям ResultSet
3. Проверить наличие обязательных полей
4. Подсчитать общее количество студентов

**Ожидаемый результат:**
- Все студенты имеют заполненные обязательные поля
- Количество студентов равно 29
- Поля full_name, student_ticket_number, password_hash, group_id, role_id не null

### STU-009: Проверка данных конкретного студента
**Приоритет:** Средний  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getStudentById(14)
2. Проверить наличие данных
3. Проверить значения полей

**Ожидаемый результат:**
- ФИО: "Кудряшов Алексей Евгеньевич"
- Номер студенческого: "ИСС-1014"
- ID группы: 1
- ID роли: 2

### STU-010: Проверка формата хэша пароля студента
**Приоритет:** Средний  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getStudentById(1)
2. Получить хэш пароля
3. Проверить формат хэша

**Ожидаемый результат:**
- Хэш пароля не null
- Длина хэша более 50 символов
- Хэш начинается с "$2a$" (алгоритм bcrypt)

---

## Модуль: TeacherService

### TCH-001: Получение существующего преподавателя по ID
**Приоритет:** Высокий  
**Тип:** Позитивный  
**Предусловие:** База данных содержит преподавателя с ID=1

**Шаги:**
1. Вызвать метод getTeacherById(1)
2. Получить ResultSet с данными преподавателя
3. Проверить наличие данных
4. Проверить значения полей преподавателя

**Ожидаемый результат:**
- ResultSet содержит данные преподавателя
- ФИО: "Лазарева Надежда Владимировна"
- Телефон: "+79001111111"
- Должность: "Преподаватель"
- Роль: "Teachers"
- Хэш пароля не null

### TCH-002: Получение несуществующего преподавателя по ID
**Приоритет:** Средний  
**Тип:** Негативный  
**Предусловие:** База данных не содержит преподавателя с ID=999

**Шаги:**
1. Вызвать метод getTeacherById(999)
2. Получить ResultSet
3. Проверить отсутствие данных

**Ожидаемый результат:**
- ResultSet не содержит данных (teacher.next() возвращает false)

### TCH-003: Проверка общего количества преподавателей
**Приоритет:** Высокий  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getTeacherCount()
2. Получить количество преподавателей
3. Сравнить с ожидаемым значением

**Ожидаемый результат:**
- Количество преподавателей равно 15

### TCH-004: Проверка существования преподавателя
**Приоритет:** Средний  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод teacherExists(1)
2. Получить boolean результат

**Ожидаемый результат:**
- Метод возвращает true (преподаватель существует)

### TCH-005: Проверка отсутствия преподавателя
**Приоритет:** Средний  
**Тип:** Негативный

**Шаги:**
1. Вызвать метод teacherExists(999)
2. Получить boolean результат

**Ожидаемый результат:**
- Метод возвращает false (преподаватель не существует)

### TCH-006: Получение всех преподавателей и проверка структуры данных
**Приоритет:** Высокий  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getAllTeachers()
2. Пройти по всем записям ResultSet
3. Проверить наличие обязательных полей
4. Подсчитать общее количество преподавателей

**Ожидаемый результат:**
- Все преподаватели имеют заполненные обязательные поля
- Количество преподавателей равно 15
- Поля full_name, password_hash, phone_number, position, role_id не null

### TCH-007: Проверка данных конкретного преподавателя
**Приоритет:** Средний  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getTeacherById(15)
2. Проверить наличие данных
3. Проверить значения полей

**Ожидаемый результат:**
- ФИО: "Качурин Игорь Анатольевич"
- Телефон: "+79015555555"
- Должность: "Преподаватель"
- ID роли: 3

### TCH-008: Проверка формата хэша пароля преподавателя
**Приоритет:** Средний  
**Тип:** Позитивный

**Шаги:**
1. Вызвать метод getTeacherById(1)
2. Получить хэш пароля
3. Проверить формат хэша

**Ожидаемый результат:**
- Хэш пароля не null
- Длина хэша более 50 символов
- Хэш начинается с "$2a$" (алгоритм bcrypt)
